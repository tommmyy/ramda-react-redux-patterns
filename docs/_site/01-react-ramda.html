<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.4.0 -->
<title>React patterns | React and Ramda patterns</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="React patterns" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Collection of patterns for React and Redux in combination with awesome Ramda library." />
<meta property="og:description" content="Collection of patterns for React and Redux in combination with awesome Ramda library." />
<link rel="canonical" href="http://localhost:4000/01-react-ramda.html" />
<meta property="og:url" content="http://localhost:4000/01-react-ramda.html" />
<meta property="og:site_name" content="React and Ramda patterns" />
<script type="application/ld+json">
{"description":"Collection of patterns for React and Redux in combination with awesome Ramda library.","@type":"WebPage","url":"http://localhost:4000/01-react-ramda.html","headline":"React patterns","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link rel="stylesheet" href="/assets/css/style.css?v=4c9e0e6de8d7b0c057c2a0b28e1cd02544ea142f">
  </head>
  <body>
    <!-- Belongs at: /_includes/navigation.html -->

<!-- This finds the current page so it can be highlighted. -->



    
        
    


    
        
        

<!-- Then we build the nav bar. -->
<nav>
    <ul>
    
        
            <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
            
        
        
        
        <li><a href="/">Home</a></li>
        
    
        
            
        
        
        
        <li class="current"><a href="/01-react-ramda.html">React patterns</a></li>
        
    
        
            <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
            
        
        
        
        <li><a href="/02-redux-ramda.html">Redux patterns</a></li>
        
    
    </ul>
</nav>


    <section class="page-header">
      <h1 class="project-name">React and Ramda patterns</h1>
      <h2 class="project-tagline">Collection of patterns for React and Redux in combination with awesome Ramda library.</h2>
      
        <a href="http://github.com/tommmyy/ramda-react-redux-patterns" class="btn">View on GitHub</a>
      
      
    </section>
    <section class="main-content">
      <h1 id="react-patterns">React patterns</h1>

<h2 id="introduction">Introduction</h2>

<h3 id="recap-of-react-in-types">Recap of React in types</h3>

<p>We will speak about properties of React Component as <code class="highlighter-rouge">Props</code> for convenince. But in JS terms properties are just plain object:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Props :: Object
</code></pre></div></div>

<p>In general we will work with functional stateless components in proposed patterns - pure function that takes <code class="highlighter-rouge">Props</code> as an argument and returns JSX/React.Element:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>React.Component :: Props -&gt; React.Element
</code></pre></div></div>

<p>For more compact syntax instead of:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>React.Component, React.Element
</code></pre></div></div>

<p>we will write</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Component, Element
</code></pre></div></div>

<h3 id="what-is-a-high-order-component-hoc">What is a High-order Component (HoC)?</h3>

<p>A Higher-order Component is a function that accepts a <code class="highlighter-rouge">Component</code> as an argument and returns another <code class="highlighter-rouge">Component</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Component -&gt; Component
</code></pre></div></div>

<p><strong>Example of identity HoC:</strong></p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">identity</span> <span class="o">=</span> <span class="p">(</span><span class="nx">NextComponent</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nc">NextComponent</span> <span class="err">{</span><span class="p">...</span><span class="nt">props</span><span class="err">}</span> <span class="p">/&gt;</span>

<span class="kd">const</span> <span class="nx">MyContainer</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="s2">"I am MyContainer"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">NewContainer</span> <span class="o">=</span> <span class="nx">identity</span><span class="p">(</span><span class="nx">MyContainer</span><span class="p">);</span>
</code></pre></div></div>

<p>In example above <code class="highlighter-rouge">identity</code> HoC creates <code class="highlighter-rouge">NewContainer</code> which renders exactly the same output as the <code class="highlighter-rouge">MyContainer</code>.</p>

<p><strong>Note:</strong> The term originates from <a href="https://en.wikipedia.org/wiki/Higher-order_function"><em>high-order function</em></a>.</p>

<p><strong>Note:</strong> Sometimes HoCs are called <em>component decorators</em>. <a href="https://github.com/tc39/proposal-decorators">See what decorators really are</a> and why they are occasionally mismatched with term <em>high-order component</em>.</p>

<h3 id="examples-of-hocs">Examples of HoCs</h3>

<h4 id="collections-of-hocs">Collections of HoCs</h4>

<ul>
  <li><a href="https://github.com/acdlite/recompose">acdlite/recompose</a></li>
  <li><a href="https://github.com/kriasoft/react-decorators">kriasoft/eact-decorators</a></li>
  <li><a href="https://github.com/jaredpalmer/react-fns">jaredpalmer/react-fns</a></li>
  <li><a href="https://github.com/klarna/higher-order-components">klarna/higher-order-components</a></li>
</ul>

<h4 id="providing-a-context-of-libraries">Providing a context of libraries</h4>

<p>In many cases is HoC used for adding functionality to your component from certain library via React context API.</p>

<p>See:</p>

<ul>
  <li><a href="https://github.com/reactjs/redux">redux</a> - <code class="highlighter-rouge">connect</code></li>
  <li><a href="https://github.com/erikras/redux-form">reduxForm</a> - <code class="highlighter-rouge">reduxForm</code></li>
  <li><a href="https://github.com/yahoo/react-intl">react-intl</a> - <code class="highlighter-rouge">injectIntl</code> HoC</li>
</ul>

<h2 id="1-static-component">1. Static Component</h2>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">Ex01</span> <span class="o">=</span> <span class="nx">R</span><span class="p">.</span><span class="nx">always</span><span class="p">(</span><span class="s2">"Ex01"</span><span class="p">);</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(&lt;</span><span class="nc">Ex01</span> <span class="p">/&gt;,</span> <span class="nx">rootEl</span><span class="p">)</span> <span class="c1">// renders "Ex01"</span>
</code></pre></div></div>

<h2 id="2-composition-of-high-order-components">2. Composition of High-order components</h2>

<p>Instead of nesting calls of HoCs:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">connect</span><span class="p">()(</span>
	<span class="nx">reduxForm</span><span class="p">()(</span>
		<span class="nx">injectIntl</span><span class="p">(</span><span class="nx">Container</span><span class="p">)</span>
	<span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div>

<p>use function composition:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">R</span><span class="p">.</span><span class="nx">compose</span><span class="p">(</span>
	<span class="nx">connect</span><span class="p">(),</span>
	<span class="nx">reduxForm</span><span class="p">(),</span>
	<span class="nx">injectIntl</span>
<span class="p">)(</span><span class="nx">Container</span><span class="p">)</span>

<span class="c1">// or</span>

<span class="nx">R</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span>
	<span class="nx">injectIntl</span><span class="p">,</span>
	<span class="nx">reduxForm</span><span class="p">(),</span>
	<span class="nx">connect</span><span class="p">()</span>
<span class="p">)(</span><span class="nx">Container</span><span class="p">)</span>
</code></pre></div></div>

<p>If you are composing from exactly two HoCs, you can use <code class="highlighter-rouge">R.o</code>.
It is highly recommended to use just one of <code class="highlighter-rouge">R.o</code>, <code class="highlighter-rouge">R.compose</code>, <code class="highlighter-rouge">R.pipe</code> in the scope of your Application for composing HoCs.</p>



      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="http://github.com/tommmyy/ramda-react-redux-patterns">ramda-react-redux-patterns</a> is maintained by <a href="http://github.com/tommmyy">tommmyy</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </section>

    
  </body>
</html>
